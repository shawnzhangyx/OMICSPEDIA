{% extends 'base.html' %}

{% load tag_custom_tags %}
{% block head %}
{% endblock head %}

{% block content %}
<h1> HomePage for tags</h1>
{% if user.is_authenticated %}
<button type='button' onclick='location.href="{% url "tags:tag-create" parent_id=0 %}"'> Create new tag </button>
{% endif %}
<form action="{% url 'tags:tag-search' %}" method="get">
<input type="text" name="search_content" /> 
<input type="submit" value="Search Tag" />
</form>


<h2> Tags Catalog: </h2>
{% if tag_list %}
<ul>
{% for tag in tag_list %}
<li> <a href="{% url 'tags:tag-detail' tag.id %}"> {{tag.name}} </a> </li>
    {% show_tag_children tag %}
{% endfor %}
</ul>
{% else %}
<p> no tags available </p>
{% endif %}

<!--
{% for tag in tag_list %}
 <a href= "{% url 'tags:tag-detail' tag.id %}" >{{ tag.name }} x{{tag.count}} </a>
{% if not forloop.last %} |
{% endif %}
{% empty %}
<p> no tags available </p>
{% endfor %}
-->
{% endblock content %}
