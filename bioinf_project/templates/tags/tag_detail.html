{% extends 'base.html' %}
{% load tag_custom_tags %}
{% block content %}
<h1> Tag name: {% show_tag_ancestor tag %} {{ tag.name }} <a href = "{% url 'tags:tag-delete' tag.id %}"> (Delete?) </a> </h1>

<p> counts: {{ tag.count}} </p>
<h2> Tag wiki: </h2>
{% if tag.current_revision.content|length == 0 %}
The wiki is not developed for this tag, would you like to <a href="{% url 'wiki:wiki-detail' tag.parent_page.id %}">contribute? </a>
{% else %}
<p> {{ tag.current_revision.content|truncatewords:100 }}  <a href="{% url 'wiki:wiki-detail' tag.parent_page.id %}"> (More) </a> </p>
{% endif %}
<hr> 
<!--
<h2> Related Wiki </h2> 
{% for wiki in wiki_list %}
    <p> {{forloop.counter}}. <a href = "{% url 'wiki:wiki-detail' wiki.id %}"> {{ wiki.title }} </a> 
   {{ wiki.content|truncatewords:20 }}
{% empty %}
<p> There is no wiki associated with this tag </p>
{% endfor %}
<hr>
-->
{% if tag.children.count > 0 %} 
<h3> Child Tags: </h3>

{% show_tag_children tag %} 
<hr>
{% endif %}

<h3> Related Posts: </h3>
{% for post in post_list %}
    <p> {{forloop.counter}}. <a href = "{% url 'posts:post-detail' post.id %}"> {{ post.title }} </a> 
<!--   {{ post.content|truncatechars:60 }} 
-->
    </p>
{% empty %}
<p> There is no posts associated with this tag </p>
{% endfor %}
<hr>
<p> <a href = "{% url 'tags:tag-index' %}"> Go back to tag homepage</a> </p>

{% endblock content %}
